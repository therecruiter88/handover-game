<html>
<head>
  <title>Stair Wars: The Downfall of Floor 5</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!--<link rel="stylesheet" href="/common/css/mobile-instructions.css">-->
  <link rel="stylesheet" href="/common/css/fonts.css">
  <link rel="stylesheet" href="/common/css/leaderboard.css">
  <link rel="stylesheet" href="/challenges/common/css/storyline.css">
  <link rel="stylesheet" href="/challenges/common/css/player-input.css">
  <link rel="stylesheet" href="/challenges/common/css/elimination.css">
  <link rel="stylesheet" href="/challenges/common/css/intro.css">
  <link rel="stylesheet" href="/challenges/common/css/instructions.css">
  <link rel="stylesheet" href="/challenges/common/css/victory.css">
  <link rel="stylesheet" href="/challenges/common/css/challenge.css">
  <link rel="stylesheet" href="./css/storyline.css">
  <link rel="stylesheet" href="./css/challenge.css">
  <link rel="icon" href="/common/assets/favicon/icon.png" type="image/x-icon">
</head>
<body class="c5">

    <!-- Audio elements for game sounds -->
    <audio id="storyline-sound" preload="auto">
      <source src="./assets/audio/storyline.mp3" type="audio/mp3">
    </audio>

    <audio id="game-start-sound" preload="auto">
      <source src="./assets/audio/game.mp3" type="audio/mp3">
    </audio>

    <audio id="countdown-sound" preload="auto">
      <source src="/challenges/common/assets/audio/countdown-sound.mp3" type="audio/mpeg">
    </audio>
    
    <audio id="countdown-fast-sound" preload="auto">
      <source src="/challenges/common/assets/audio/countdown-fast-sound.mp3" type="audio/mpeg">
    </audio>
    
    <audio id="elimination-sound" preload="auto">
      <source src="/challenges/common/assets/audio/elimination-sound.mp3" type="audio/mpeg">
    </audio>
    
    <audio id="victory-sound" preload="auto">
      <source src="/challenges/common/assets/audio/victory.mp3" type="audio/mp3">
    </audio>

    <!-- Specific game sounds -->
    <audio id="game-start-sound-wave-2" preload="auto">
      <source src="./assets/audio/game-wave-2.mp3" type="audio/mp3">
    </audio>
  
    <audio id="game-start-sound-wave-3" preload="auto">
      <source src="./assets/audio/game-wave-3.mp3" type="audio/mp3">
    </audio>
  
    <audio id="game-start-sound-wave-4" preload="auto">
      <source src="./assets/audio/game-wave-4.mp3" type="audio/mp3">
    </audio>
  
    <audio id="game-start-sound-wave-5" preload="auto">
      <source src="./assets/audio/game-wave-5.mp3" type="audio/mp3">
    </audio>

    <audio id="player-laser-sound" preload="auto">
      <source src="./assets/audio/laser-beam-player.mp3" type="audio/mp3">
    </audio>
  
    <audio id="enemy-laser-sound" preload="auto">
      <source src="./assets/audio/laser-beam-enemy.mp3" type="audio/mp3">
    </audio>
  
    <audio id="boss-laser-sound" preload="auto">
      <source src="./assets/audio/laser-beam-boss.mp3" type="audio/mp3">
    </audio>
  
    <audio id="shield-hit-sound" preload="auto">
      <source src="./assets/audio/shield-hit.mp3" type="audio/mp3">
    </audio>
  
    <audio id="spaceship-hit-sound" preload="auto">
      <source src="./assets/audio/spaceship-hit.mp3" type="audio/mp3">
    </audio>
  
    <audio id="shield-explosion-sound" preload="auto">
      <source src="./assets/audio/shield-explosion.mp3" type="audio/mp3">
    </audio>
  
    <audio id="spaceship-explosion-sound" preload="auto">
      <source src="./assets/audio/spaceship-explosion.mp3" type="audio/mp3">
    </audio>
  
    <audio id="asteroid-explosion-sound" preload="auto">
      <source src="./assets/audio/asteroid-explosion.mp3" type="audio/mp3">
    </audio>
  
    <audio id="boost-pick-up-sound" preload="auto">
      <source src="./assets/audio/boost-pick-up.mp3" type="audio/mp3">
    </audio>


    <div id="content">
      <!-- Player Name Prompt -->
      <div id="player-name-prompt">
        <h2>Select Your Player Number</h2>
        <!--<input type="text" id="player-number" maxlength="3" placeholder="example: 000">-->
        <select id="player-number" class="sound-efx"></select>
        <button id="begin-challenge" class="sound-efx" disabled>Begin Challenge</button>
      </div>
      
      <!-- Netflix-style intro -->
      <div id="intro-container">
        <div id="intro-logo">Stair Wars: The Downfall of Floor 5</div>
      </div>
      
      <!-- Storyline container -->
      <div id="story-container">
        <div id="story-box">
          <h2 id="story-title">Backstory</h2>
          <div id="story-text"></div>
          <button id="continue-btn" class="sound-efx">Continue</button>
        </div>
      </div>
      
      <!-- Instructions popup -->
      <div id="instructions-popup">
        <h2>How to Play</h2>
        <p>...</p>
        <button id="start-game" class="sound-efx">Start Game</button>
      </div>
      
      <div id="game-container">
        <div id="timer-display">Time: 30</div>
        <div class="hearts-container">
          <img class="heart" id="heart1" src="./../common/assets/img/heart_full.png" alt="Full Heart">
          <img class="heart" id="heart2" src="./../common/assets/img/heart_full.png" alt="Full Heart">
          <img class="heart" id="heart3" src="./../common/assets/img/heart_full.png" alt="Full Heart">
        </div>
        <div id="score-display">Score: 0</div>

        <div style="display: flex; align-items: flex-start;">
          <canvas id="game-container-canvas"></canvas>
        </div>

        <!-- Celebration container -->
        <div id="celebration">
          <h2>Congratulations!</h2>
          <p>You have successfully escaped from the handover once and for all!</p>
          <p id="win-score"></p>
        </div>
        
        <!-- Game over container -->
        <div id="game-over">
          <h2>ELIMINATED!</h2>
          <p id="reason-eliminated"></p>
          <p>You were not able to escape the handover phase and are stuck in this universe for ever and ever...</p>
          <div id="elimination-x">X</div>
          <button id="retry-button" class="sound-efx">Retry</button>
        </div>
      </div>

      <!-- Game completion popup -->
      <div id="game-completion">
        <h2>THE END!</h2>
        <p>You have successfully completed all the challenge and uncovered the game master!.</p>
        <p>Hope you had fun playing the handover games!</p>
        <p>If you want more...don't ask me (muahahahahahaha)...</p>
        <div class="buttons">
          <button id="home-button" class="sound-efx">Return to Base</button>
          <button id="menuLeaderboard" class="challenge-leaderboard-btn sound-efx">Scoreboard</button>
        </div>
      </div>
    </div>

    <script src="/challenges/common/js/players-list.js"></script>
    <script src="/challenges/common/js/storyline.js" type="module"></script> <!-- It must load before challenge.js to use its functions -->
    <script src="/challenges/common/js/instructions.js"></script>
    <script src="./js/challenge.js" type="module"></script>
    <script src="/common/js/leaderboard.js" type="module"></script>
    <script src="/common/js/mobile-message.js" type="module"></script>
    <script src="/common/js/audio.js" type="module"></script>
  </body>
</html>